{"version":3,"sources":["webpack:///./src/views/Files.vue?6042","webpack:///src/views/Files.vue","webpack:///./src/views/Files.vue?f3b3","webpack:///./src/views/Files.vue?0981","webpack:///./node_modules/js-file-download/file-download.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/helpers/FileHelper.js","webpack:///./src/views/Files.vue?93b6"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","uploaders","staticClass","attrs","_l","uploader","key","username","name","params","logo","nomeCognome","email","on","$event","animateEmail","stopAnimation","emailAnimation","_s","staticRenderFns","data","methods","find","created","FileHelper","component","module","exports","filename","mime","bom","blobData","blob","Blob","type","window","navigator","msSaveBlob","blobURL","URL","createObjectURL","webkitURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","$","$find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","arguments","length","undefined","uploadFile","uploaderStats","getUploaders","getFilesForConsumers","getFilesForUploaders","getFile","deleteFile","file","axios","post","process","from","to","get","consumer","id","FileDownload","require","responseType","headers","Accept","then","res","substring","delete"],"mappings":"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","file":"js/chunk-7e0559d8.fb429866.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('h1',[_vm._v(\"I miei File\")]),(_vm.uploaders.length)?_c('b-card-group',{staticClass:\"vertical-cards\",attrs:{\"deck\":\"\"}},_vm._l((_vm.uploaders),function(uploader){return _c('b-card',{key:uploader.username,staticClass:\"card\"},[_c('router-link',{staticClass:\"stretched-link\",attrs:{\"to\":{\n          name: 'File',\n          params: {\n            logo: uploader.logo,\n            uploader: uploader.username,\n            name: uploader.nomeCognome,\n            email: uploader.email\n          }\n        }}}),_c('b-row',[_c('b-col',{attrs:{\"md\":\"auto\"}},[_c('b-avatar',{attrs:{\"rounded\":\"lg\",\"size\":\"7em\",\"src\":uploader.logo}})],1),_c('b-col',[_c('b-card-body',{attrs:{\"title\":uploader.nomeCognome,\"align\":\"left\"}},[_c('a',{staticClass:\"card-link\",attrs:{\"href\":(\"mailto:\" + (uploader.email))},on:{\"mouseover\":function($event){return _vm.animateEmail(uploader.username)},\"mouseout\":function($event){return _vm.stopAnimation(uploader.username)}}},[_c('b-icon',{attrs:{\"icon\":\"envelope\",\"animation\":uploader.emailAnimation,\"shift-h\":\"-4\"}}),_vm._v(_vm._s(uploader.email))],1)])],1)],1)],1)}),1):_c('p',[_vm._v(\"Non ci sono file da scaricare.\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <main>\r\n    <h1>I miei File</h1>\r\n    <b-card-group deck class=\"vertical-cards\" v-if=\"uploaders.length\">\r\n      <b-card\r\n        class=\"card\"\r\n        v-for=\"uploader in uploaders\"\r\n        :key=\"uploader.username\"\r\n      >\r\n        <router-link\r\n          :to=\"{\r\n            name: 'File',\r\n            params: {\r\n              logo: uploader.logo,\r\n              uploader: uploader.username,\r\n              name: uploader.nomeCognome,\r\n              email: uploader.email\r\n            }\r\n          }\"\r\n          class=\"stretched-link\"\r\n        ></router-link>\r\n        <b-row>\r\n          <b-col md=\"auto\">\r\n            <b-avatar rounded=\"lg\" size=\"7em\" :src=\"uploader.logo\"></b-avatar>\r\n          </b-col>\r\n          <b-col>\r\n            <b-card-body :title=\"uploader.nomeCognome\" align=\"left\">\r\n              <a\r\n                :href=\"`mailto:${uploader.email}`\"\r\n                class=\"card-link\"\r\n                @mouseover=\"animateEmail(uploader.username)\"\r\n                @mouseout=\"stopAnimation(uploader.username)\"\r\n              >\r\n                <b-icon\r\n                  icon=\"envelope\"\r\n                  :animation=\"uploader.emailAnimation\"\r\n                  shift-h=\"-4\"\r\n                ></b-icon\r\n                >{{ uploader.email }}</a\r\n              >\r\n            </b-card-body>\r\n          </b-col>\r\n        </b-row>\r\n      </b-card>\r\n    </b-card-group>\r\n    <p v-else>Non ci sono file da scaricare.</p>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport { FileHelper } from \"../helpers/FileHelper\";\r\nimport router from \"../router\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      uploaders: []\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(\"account\", [\"logout\"]),\r\n    ...mapActions(\"alert\", [\"success\", \"error\"]),\r\n    animateEmail(username) {\r\n      this.uploaders.find(x => x.username === username).emailAnimation =\r\n        \"throb\";\r\n    },\r\n    stopAnimation(username) {\r\n      this.uploaders.find(x => x.username === username).emailAnimation = null;\r\n    }\r\n  },\r\n  created: function() {\r\n    FileHelper.getUploaders()\r\n      .then(res => {\r\n        if (res.data.length === 1) {\r\n          router.push({\r\n            name: \"File\",\r\n            params: {\r\n              logo: res.data[0].logo,\r\n              uploader: res.data[0].username,\r\n              name: res.data[0].nomeCognome,\r\n              email: res.data[0].email\r\n            }\r\n          });\r\n        }\r\n        res.data.forEach(function(uploader) {\r\n          uploader.emailAnimation = null;\r\n        });\r\n        this.uploaders = res.data;\r\n      })\r\n      .catch(() => {\r\n        this.error(\"Impossibile proseguire sulla pagina richiesta\");\r\n        this.logout();\r\n      });\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.vertical-cards {\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 500px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.card:hover {\r\n  color: #495057;\r\n  background-color: #fff;\r\n  border-color: #80bdff;\r\n  outline: 0;\r\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Files.vue?vue&type=template&id=59a5acb8&scoped=true&\"\nimport script from \"./Files.vue?vue&type=script&lang=js&\"\nexport * from \"./Files.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Files.vue?vue&type=style&index=0&id=59a5acb8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59a5acb8\",\n  null\n  \n)\n\nexport default component.exports","module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","import axios from \"axios\";\r\n\r\nexport const FileHelper = {\r\n  uploadFile,\r\n  uploaderStats,\r\n  getUploaders,\r\n  getFilesForConsumers,\r\n  getFilesForUploaders,\r\n  getFile,\r\n  deleteFile,\r\n};\r\n\r\nfunction uploadFile(file) {\r\n  return axios.post(`${process.env.VUE_APP_APIROOT}/file`, file);\r\n}\r\n\r\nfunction uploaderStats(from, to) {\r\n  return axios.get(\r\n    `${process.env.VUE_APP_APIROOT}/file/statisticheUploaders/${from}/${to}`\r\n  );\r\n}\r\n\r\nfunction getUploaders() {\r\n  return axios.get(`${process.env.VUE_APP_APIROOT}/file/getMyUploaders`);\r\n}\r\n\r\nfunction getFilesForConsumers(uploader) {\r\n  return axios.get(\r\n    `${process.env.VUE_APP_APIROOT}/file/getFilesForConsumer/${uploader}`\r\n  );\r\n}\r\n\r\nfunction getFilesForUploaders(consumer) {\r\n  return axios.get(\r\n    `${process.env.VUE_APP_APIROOT}/file/getFilesForUploader/${consumer}`\r\n  );\r\n}\r\n\r\nfunction getFile(uploader, id) {\r\n  const FileDownload = require(\"js-file-download\");\r\n  return axios\r\n    .get(`${process.env.VUE_APP_APIROOT}/file/${uploader}/${id}`, {\r\n      responseType: \"arraybuffer\",\r\n      headers: {\r\n        Accept: \"application/octet-stream\",\r\n      },\r\n    })\r\n    .then((res) => {\r\n      FileDownload(res.data, res.headers[\"content-disposition\"].substring(21));\r\n    });\r\n}\r\n\r\nfunction deleteFile(id) {\r\n  return axios.delete(`${process.env.VUE_APP_APIROOT}/file/${id}`);\r\n}\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&id=59a5acb8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&id=59a5acb8&scoped=true&lang=css&\""],"sourceRoot":""}