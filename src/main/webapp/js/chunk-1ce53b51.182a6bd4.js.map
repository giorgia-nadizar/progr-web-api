{"version":3,"sources":["webpack:///./src/views/HomepageUploader.vue?450e","webpack:///src/views/HomepageUploader.vue","webpack:///./src/views/HomepageUploader.vue?3729","webpack:///./src/views/HomepageUploader.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/LoadingButton.vue?947e","webpack:///src/components/LoadingButton.vue","webpack:///./src/components/LoadingButton.vue?f1ba","webpack:///./src/components/LoadingButton.vue","webpack:///./src/components/Confirm.vue?03bc","webpack:///src/components/Confirm.vue","webpack:///./src/components/Confirm.vue?63cf","webpack:///./src/components/Confirm.vue","webpack:///./node_modules/core-js/modules/es.array.join.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","consumers","fields","loading","scopedSlots","_u","key","fn","proxy","row","on","$event","toggleDetails","getFiles","item","username","detailsShowing","_s","name","params","consumer","deleting","askConfirm","files","fileFields","_l","file","id","nome","_f","hashtag","dataOraVisualizzazione","ipVisualizzazione","_e","ref","confirmDelete","staticRenderFns","components","data","icon","submitting","created","UserHelper","filters","formatDate","date","moment","String","format","formatTag","tag","methods","open","FileHelper","$refs","confirm","deleteFile","deleteConsumer","find","component","$","$find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","arguments","length","undefined","localVariant","onHidden","class","c","localSize","disable","$emit","text","props","button","focus","computed","$props","variant","size","disabled","busy","onShown","onCancel","onOK","dialog","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","separator","call"],"mappings":"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","file":"js/chunk-1ce53b51.182a6bd4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('h1',[_vm._v(\"I miei Consumers\")]),_c('b-button',{staticClass:\"createNew\",attrs:{\"variant\":\"outline-secondary\",\"to\":\"/uploader/creaConsumer\"}},[_c('b-icon',{attrs:{\"icon\":\"person-plus-fill\",\"shift-h\":\"-4\"}}),_vm._v(\"Crea un nuovo Consumer \")],1),(_vm.consumers.length)?_c('b-table',{attrs:{\"striped\":\"\",\"outlined\":\"\",\"responsive\":\"\",\"stacked\":\"md\",\"items\":_vm.consumers,\"fields\":_vm.fields,\"busy\":_vm.loading,\"head-variant\":\"dark\"},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center my-2\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_c('strong',[_vm._v(\"Caricamento...\")])],1)]},proxy:true},{key:\"cell(gestioneFiles)\",fn:function(row){return [_c('b-button',{staticClass:\"mr-2\",attrs:{\"size\":\"sm\"},on:{\"click\":function($event){row.toggleDetails();\n          _vm.getFiles(row.item.username, row.detailsShowing);}}},[_vm._v(\" \"+_vm._s(row.detailsShowing ? \"Nascondi\" : \"Mostra\")+\" Files \")]),_c('b-button',{attrs:{\"size\":\"sm\",\"to\":{ name: 'Carica File', params: { consumer: row.item.username } }}},[_vm._v(\"Carica file\")])]}},{key:\"cell(gestioneConsumer)\",fn:function(row){return [_c('b-button',{staticClass:\"mr-2\",attrs:{\"size\":\"sm\",\"to\":{\n          name: 'Modifica Consumer',\n          params: { username: row.item.username }\n        }}},[_vm._v(\"Modifica Dati\")]),_c('LoadingButton',{attrs:{\"size\":\"sm\",\"variant\":\"secondary\",\"submitting\":row.item.deleting,\"text\":\"Elimina Consumer\"},on:{\"submit\":function($event){return _vm.askConfirm(row.item.username)}}})]}},{key:\"row-details\",fn:function(row){return [_c('b-card',[(row.item.files.length)?_c('b-table-simple',{staticClass:\"table table-plain\",attrs:{\"fields\":_vm.fileFields,\"responsive\":\"\",\"stacked\":\"md\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(\"Nome\")]),_c('b-th',[_vm._v(\"Hashtag\")]),_c('b-th',[_vm._v(\"Data Visualizzazione\")]),_c('b-th',[_vm._v(\"Indirizzo Ip Visualizzazione\")]),_c('b-th',[_vm._v(\"Elimina\")])],1)],1),_c('b-tbody',_vm._l((row.item.files),function(file){return _c('b-tr',{key:file.id},[_c('b-td',[_vm._v(_vm._s(file.nome))]),_c('b-td',[_vm._v(_vm._s(_vm._f(\"formatTag\")(file.hashtag)))]),_c('b-td',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(file.dataOraVisualizzazione))+\" \")]),_c('b-td',[_vm._v(_vm._s(file.ipVisualizzazione))]),_c('b-td',[_c('LoadingButton',{attrs:{\"size\":\"sm\",\"variant\":\"secondary\",\"submitting\":file.deleting,\"icon\":\"trash\"},on:{\"submit\":function($event){return _vm.askConfirm(row.item.username, file.id)}}})],1)],1)}),1)],1):_c('p',[_vm._v(\" Non sono stati caricati file per questo consumer. \")])],1)]}}],null,false,1118000840)}):_vm._e(),_c('Confirm',{ref:\"confirm\",on:{\"confirm\":_vm.confirmDelete}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <main>\r\n    <h1>I miei Consumers</h1>\r\n    <b-button\r\n      class=\"createNew\"\r\n      variant=\"outline-secondary\"\r\n      to=\"/uploader/creaConsumer\"\r\n    >\r\n      <b-icon icon=\"person-plus-fill\" shift-h=\"-4\"></b-icon>Crea un nuovo\r\n      Consumer\r\n    </b-button>\r\n    <b-table\r\n      v-if=\"consumers.length\"\r\n      striped\r\n      outlined\r\n      responsive\r\n      stacked=\"md\"\r\n      :items=\"consumers\"\r\n      :fields=\"fields\"\r\n      :busy=\"loading\"\r\n      head-variant=\"dark\"\r\n    >\r\n      <template v-slot:table-busy>\r\n        <div class=\"text-center my-2\">\r\n          <b-spinner class=\"align-middle\"></b-spinner>\r\n          <strong>Caricamento...</strong>\r\n        </div>\r\n      </template>\r\n      <template v-slot:cell(gestioneFiles)=\"row\">\r\n        <b-button\r\n          size=\"sm\"\r\n          @click=\"\r\n            row.toggleDetails();\r\n            getFiles(row.item.username, row.detailsShowing);\r\n          \"\r\n          class=\"mr-2\"\r\n        >\r\n          {{ row.detailsShowing ? \"Nascondi\" : \"Mostra\" }} Files\r\n        </b-button>\r\n        <b-button\r\n          size=\"sm\"\r\n          :to=\"{ name: 'Carica File', params: { consumer: row.item.username } }\"\r\n          >Carica file</b-button\r\n        >\r\n      </template>\r\n      <template v-slot:cell(gestioneConsumer)=\"row\">\r\n        <b-button\r\n          size=\"sm\"\r\n          :to=\"{\r\n            name: 'Modifica Consumer',\r\n            params: { username: row.item.username }\r\n          }\"\r\n          class=\"mr-2\"\r\n          >Modifica Dati</b-button\r\n        >\r\n        <LoadingButton\r\n          size=\"sm\"\r\n          variant=\"secondary\"\r\n          :submitting=\"row.item.deleting\"\r\n          text=\"Elimina Consumer\"\r\n          @submit=\"askConfirm(row.item.username)\"\r\n        />\r\n      </template>\r\n      <template v-slot:row-details=\"row\">\r\n        <b-card>\r\n          <b-table-simple\r\n            :fields=\"fileFields\"\r\n            responsive\r\n            stacked=\"md\"\r\n            v-if=\"row.item.files.length\"\r\n            class=\"table table-plain\"\r\n          >\r\n            <b-thead>\r\n              <b-tr>\r\n                <b-th>Nome</b-th>\r\n                <b-th>Hashtag</b-th>\r\n                <b-th>Data Visualizzazione</b-th>\r\n                <b-th>Indirizzo Ip Visualizzazione</b-th>\r\n                <b-th>Elimina</b-th>\r\n              </b-tr>\r\n            </b-thead>\r\n            <b-tbody>\r\n              <b-tr v-for=\"file in row.item.files\" :key=\"file.id\">\r\n                <b-td>{{ file.nome }}</b-td>\r\n                <b-td>{{ file.hashtag | formatTag }}</b-td>\r\n                <b-td>\r\n                  {{ file.dataOraVisualizzazione | formatDate }}\r\n                </b-td>\r\n                <b-td>{{ file.ipVisualizzazione }}</b-td>\r\n                <b-td>\r\n                  <LoadingButton\r\n                    size=\"sm\"\r\n                    variant=\"secondary\"\r\n                    :submitting=\"file.deleting\"\r\n                    icon=\"trash\"\r\n                    @submit=\"askConfirm(row.item.username, file.id)\"\r\n                  />\r\n                </b-td>\r\n              </b-tr>\r\n            </b-tbody>\r\n          </b-table-simple>\r\n          <p v-else>\r\n            Non sono stati caricati file per questo consumer.\r\n          </p></b-card\r\n        >\r\n      </template>\r\n    </b-table>\r\n    <Confirm ref=\"confirm\" @confirm=\"confirmDelete\" />\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport { FileHelper } from \"../helpers/FileHelper\";\r\nimport * as moment from \"moment/moment\";\r\nimport { UserHelper } from \"../helpers/UserHelper\";\r\nimport { mapActions } from \"vuex\";\r\nimport Confirm from \"../components/Confirm\";\r\nimport LoadingButton from \"../components/LoadingButton\";\r\nexport default {\r\n  components: { Confirm, LoadingButton },\r\n  data() {\r\n    return {\r\n      consumers: [],\r\n      fields: [\r\n        \"username\",\r\n        \"nomeCognome\",\r\n        \"email\",\r\n        \"gestioneFiles\",\r\n        \"gestioneConsumer\"\r\n      ],\r\n      fileFields: [\r\n        \"nome\",\r\n        \"hashtag\",\r\n        \"dataOraVisualizzazione\",\r\n        \"ipVisualizzazione\",\r\n        \"Elimina\"\r\n      ],\r\n      icon: \"trash\",\r\n      submitting: false,\r\n      loading: null\r\n    };\r\n  },\r\n  created: function() {\r\n    this.loading = true;\r\n    UserHelper.getUsers(\"consumer\")\r\n      .then(res => {\r\n        res.data.forEach(function(consumer) {\r\n          consumer.files = [];\r\n          consumer.deleting = false;\r\n        });\r\n        this.consumers = res.data;\r\n        this.loading = null;\r\n      })\r\n      .catch(() => {\r\n        this.error(\"Impossibile proseguire sulla pagina richiesta\");\r\n        this.loading = null;\r\n        this.logout();\r\n      });\r\n  },\r\n  filters: {\r\n    formatDate: function(date) {\r\n      if (date) {\r\n        return moment(String(date)).format(\"DD/MM/YYYY\");\r\n      }\r\n    },\r\n    formatTag: function(tag) {\r\n      if (tag) {\r\n        return `#${tag.join(\" #\")}`;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(\"alert\", [\"success\", \"error\"]),\r\n    ...mapActions(\"account\", [\"logout\"]),\r\n    getFiles(username, open) {\r\n      if (!open) {\r\n        FileHelper.getFilesForUploaders(username)\r\n          .then(res => {\r\n            res.data.forEach(function(file) {\r\n              file.deleting = false;\r\n            });\r\n            this.consumers.find(x => x.username === username).files = res.data;\r\n          })\r\n          .catch(() => {\r\n            this.error(\"Impossibile caricare i file richiesti\");\r\n          });\r\n      }\r\n    },\r\n    askConfirm(username, id) {\r\n      this.$refs.confirm.askConfirm(username, id);\r\n    },\r\n    confirmDelete(username, id) {\r\n      if (id) {\r\n        this.deleteFile(username, id);\r\n      } else {\r\n        this.deleteConsumer(username);\r\n      }\r\n    },\r\n    deleteConsumer(username) {\r\n      this.consumers.find(x => x.username === username).deleting = true;\r\n      UserHelper.deleteUser(username)\r\n        .then(() => {\r\n          this.consumers = this.consumers.filter(\r\n            consumer => consumer.username !== username\r\n          );\r\n          this.success(\"Eliminazione consumer effettuata con successo\");\r\n        })\r\n        .catch(() => {\r\n          this.error(\"Eliminazione consumer fallita\");\r\n          this.submitting = false;\r\n        });\r\n    },\r\n    deleteFile(consumer, id) {\r\n      this.consumers\r\n        .find(x => x.username === consumer)\r\n        .files.find(y => y.id === id).deleting = true;\r\n      FileHelper.deleteFile(id)\r\n        .then(() => {\r\n          this.consumers.find(\r\n            x => x.username === consumer\r\n          ).files = this.consumers\r\n            .find(x => x.username === consumer)\r\n            .files.filter(file => file.id !== id);\r\n          this.success(\"Eliminazione file effettuata con successo\");\r\n        })\r\n        .catch(() => {\r\n          this.error(\"Eliminazione file fallita\");\r\n          this.submitting = false;\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomepageUploader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomepageUploader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomepageUploader.vue?vue&type=template&id=7c249bde&\"\nimport script from \"./HomepageUploader.vue?vue&type=script&lang=js&\"\nexport * from \"./HomepageUploader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{staticClass:\"d-inline-block\",attrs:{\"show\":_vm.submitting,\"rounded\":\"\",\"opacity\":\"0.6\",\"spinner-small\":\"\",\"spinner-variant\":_vm.localVariant},on:{\"hidden\":_vm.onHidden}},[_c('b-button',{ref:\"button\",class:_vm.c,attrs:{\"size\":_vm.localSize,\"disabled\":_vm.disable,\"variant\":_vm.localVariant},on:{\"click\":function($event){return _vm.$emit('submit')}}},[(_vm.icon)?_c('b-icon',{attrs:{\"icon\":_vm.icon,\"aria-hidden\":\"true\"}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.text)+\" \")],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-overlay\r\n    :show=\"submitting\"\r\n    rounded\r\n    opacity=\"0.6\"\r\n    spinner-small\r\n    :spinner-variant=\"localVariant\"\r\n    class=\"d-inline-block\"\r\n    @hidden=\"onHidden\"\r\n  >\r\n    <b-button\r\n      ref=\"button\"\r\n      :class=\"c\"\r\n      :size=\"localSize\"\r\n      :disabled=\"disable\"\r\n      :variant=\"localVariant\"\r\n      @click=\"$emit('submit')\"\r\n    >\r\n      <b-icon v-if=\"icon\" :icon=\"icon\" aria-hidden=\"true\"></b-icon>\r\n      {{ text }}\r\n    </b-button>\r\n  </b-overlay>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"submitting\", \"icon\", \"text\", \"variant\", \"size\", \"disabled\", \"c\"],\r\n  methods: {\r\n    onHidden() {\r\n      this.$refs.button.focus();\r\n    }\r\n  },\r\n  computed: {\r\n    localVariant: function() {\r\n      return this.$props.variant ? this.$props.variant : \"primary\";\r\n    },\r\n    localSize: function() {\r\n      return this.$props.size ? this.$props.size : null;\r\n    },\r\n    disable: function() {\r\n      return this.$props.submitting || this.$props.disabled;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoadingButton.vue?vue&type=template&id=173c3815&\"\nimport script from \"./LoadingButton.vue?vue&type=script&lang=js&\"\nexport * from \"./LoadingButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.busy,\"no-wrap\":\"\"},on:{\"shown\":_vm.onShown},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('div',{ref:\"dialog\",staticClass:\"text-center p-3\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-modal\":\"false\",\"aria-labelledby\":\"form-confirm-label\"}},[_c('p',[_c('strong',{attrs:{\"id\":\"form-confirm-label\"}},[_vm._v(\"Confermare l'eliminazione?\")])]),_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('b-button',{staticClass:\"mr-3\",attrs:{\"variant\":\"outline-danger\"},on:{\"click\":_vm.onCancel}},[_vm._v(\" Annulla \")]),_c('b-button',{attrs:{\"variant\":\"outline-success\"},on:{\"click\":_vm.onOK}},[_vm._v(\"Conferma\")])],1)])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-overlay :show=\"busy\" no-wrap @shown=\"onShown\">\r\n    <template v-slot:overlay>\r\n      <div\r\n        ref=\"dialog\"\r\n        tabindex=\"-1\"\r\n        role=\"dialog\"\r\n        aria-modal=\"false\"\r\n        aria-labelledby=\"form-confirm-label\"\r\n        class=\"text-center p-3\"\r\n      >\r\n        <p>\r\n          <strong id=\"form-confirm-label\">Confermare l'eliminazione?</strong>\r\n        </p>\r\n        <div class=\"d-flex justify-content-center\">\r\n          <b-button variant=\"outline-danger\" class=\"mr-3\" @click=\"onCancel\">\r\n            Annulla\r\n          </b-button>\r\n          <b-button variant=\"outline-success\" @click=\"onOK\">Conferma</b-button>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </b-overlay>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      busy: false,\r\n      username: null,\r\n      id: null\r\n    };\r\n  },\r\n  methods: {\r\n    askConfirm(username, id) {\r\n      this.busy = true;\r\n      this.username = username;\r\n      this.id = id;\r\n    },\r\n    onShown() {\r\n      this.$refs.dialog.focus();\r\n    },\r\n    onCancel() {\r\n      this.busy = false;\r\n    },\r\n    onOK() {\r\n      this.busy = false;\r\n      this.$emit(\"confirm\", this.username, this.id);\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=5ad6164c&\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n"],"sourceRoot":""}